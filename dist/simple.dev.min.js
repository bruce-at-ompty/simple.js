!function(global){"use strict";global.SimpleEvent={eventCache:{},listen:function(e,t){this.eventCache[e]=this.eventCache[e]||[],this.eventCache[e].push(t)},emit:function(e,t){if(this.eventCache[e]&&this.eventCache[e].length>0)for(var h in this.eventCache[e]){var n=this.eventCache[e][h];try{n(t)}catch(c){console.log("Error",c)}}}},"undefined"!=typeof exports&&(exports.SimpleEvent=global.SimpleEvent)}(this),function(global){"use strict";String.prototype.hashCode=function(){var i,chr,len,hash=0;if(0===this.length)return hash;for(i=0,len=this.length;len>i;i++)chr=this.charCodeAt(i),hash=(hash<<5)-hash+chr,hash|=0;return hash};var app=function(name,config){name=JSON.stringify(name).hashCode();var prefix="__ss_app_"+name;if(this.name=name,global[prefix]=this,this.localStorageKey=prefix+"_data",this.container=null,this.state={},this.previousState={},this.config={shouldSaveStateToLocalStorage:!1,shouldLoadStateFromLocalStorage:!1,enablePartialRendering:!0},"object"==typeof config)for(var k in config)this.config[k]=config[k];this.updateState=function(elementOrName,valueOrNull){var name,value,element;if("string"==typeof elementOrName)name=elementOrName,value=valueOrNull,this.state[elementOrName]=valueOrNull;else if("object"==typeof elementOrName&&"string"==typeof elementOrName.nodeName){var el=elementOrName,nodeName=el.nodeName,type=el.type;switch("SELECT"==nodeName&&(type="select"),name=el.name,value=el.value,type){case"select":case"text":case"radio":this.state[name]=value;break;case"checkbox":if(this.state[name]||(this.state[name]=[]),el.checked&&value.length>0)this.state[name].indexOf(value)<0&&this.state[name].push(value);else{var pos=this.state[name].indexOf(value);pos>=0&&this.state[name].splice(pos,1)}break;default:this.state[name]=value}}this.stateIsUpdated({name:name,value:value,element:element,state:this.state})},this.stateIsUpdated=function(data){},this.htmlTemplate=function(template,data){console.log("replacing template "+template,"with",data);var output=template;for(var n in data){var search=new RegExp(":"+n,"g"),rep=data[n];output=output.replace(search,rep)}return output},this.store=function(){this.config.shouldSaveStateToLocalStorage&&"object"==typeof window.localStorage&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.state))},this.load=function(){if(this.config.shouldLoadStateFromLocalStorage&&"object"==typeof window.localStorage){var d=window.localStorage.getItem(this.localStorageKey);if(!d)return;try{this.state=JSON.parse(d)}catch(e){console.log("Unable to parse state "+d,e)}}},this.elements={data:{},template:{}},this.elements.data={main:{},sub:{}},this.elements.template={main:{"default":""},sub:{}},this.callback={getElementStyle:{},renderElement:{},parseElementData:{}},this.getElementStyle=function(elName,state,dataKey,dataValue){if("function"==typeof this.callback.getElementStyle[elName]){var c=this.callback.getElementStyle[elName];return c(state,dataKey,dataValue)}return"object"!=typeof dataValue&&state&&state.indexOf(dataValue)>=0?"selected":"default"},this.parseElementData=function(elName,state,dataKey,dataValue){if("function"==typeof this.callback.parseElementData[elName]){var c=this.callback.parseElementData[elName];return c(state,dataKey,dataValue)}var t={};return t[dataKey]=dataValue,t},this.render=function(){},this.renderElement=function(elName){if("object"!=typeof this.elements.template.sub[elName])return console.log("[Warning] No element template found - return empty string"),"";var data=this.elements.data.sub[elName]||{},state=this.state[elName]||null;if("function"==typeof this.callback.renderElement[elName]){var c=this.callback.renderElement[elName];return c(state,data)}var output="";for(var n in data){var v=data[n],s=this.getElementStyle(elName,state,n,v),t=this.elements.template.sub[elName][s],data=this.parseElementData(elName,state,n,v);data.__ss=prefix+".updateState",output+=this.htmlTemplate(t,data)}return output}};global.SimpleApp=app,"undefined"!=typeof exports&&(exports.SimpleApp=app)}(this),function(global){"use strict";global.SimpleAppManager={apps:{},create:function(name,config){var app=null;return"object"==typeof this.apps[name]?(console.log("App "+name+" is in memory, use it now"),app=this.apps[name]):(app=new SimpleApp(name,config),this.apps[name]=app),app},run:function(name,container){if("object"!=typeof this.apps[name])throw new Error("App "+name+" does not exist");var app=this.apps[name];app.container=container,app.main()},getAppByName:function(name){return this.apps[name]||new SimpleApp(name)}},"undefined"!=typeof exports&&(exports.SimpleAppManager=global.SimpleAppManager)}(this);